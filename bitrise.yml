{"format_version":"8","default_step_lib_source":"https://github.com/bitrise-io/bitrise-steplib.git","project_type":"android","trigger_map":[{"push_branch":"*","workflow":"primary"},{"pull_request_source_branch":"*","workflow":"primary"}],"workflows":{"deploy":{"description":"## How to get a signed APK\n\nThis workflow contains the **Sign APK** step. To sign your APK all you have to do is to:\n\n1. Click on **Code Signing** tab\n1. Find the **ANDROID KEYSTORE FILE** section\n1. Click or drop your file on the upload file field\n1. Fill the displayed 3 input fields:\n 1. **Keystore password**\n 1. **Keystore alias**\n 1. **Private key password**\n1. Click on **[Save metadata]** button\n\nThat's it! From now on, **Sign APK** step will receive your uploaded files.\n\n## To run this workflow\n\nIf you want to run this workflow manually:\n\n1. Open the app's build list page\n2. Click on **[Start/Schedule a Build]** button\n3. Select **deploy** in **Workflow** dropdown input\n4. Click **[Start Build]** button\n\nOr if you need this workflow to be started by a GIT event:\n\n1. Click on **Triggers** tab\n2. Setup your desired event (push/tag/pull) and select **deploy** workflow\n3. Click on **[Done]** and then **[Save]** buttons\n\nThe next change in your repository that matches any of your trigger map event will start **deploy** workflow.\n","steps":[{"activate-ssh-key@4.0.3":{"run_if":"{{getenv \"SSH_RSA_PRIVATE_KEY\" | ne \"\"}}"}},{"git-clone@4.0.17":{}},{"cache-pull@2.1.1":{}},{"script@1.1.5":{"title":"Do anything with Script step"}},{"install-missing-android-tools@2.3.7":{"inputs":[{"gradlew_path":"$PROJECT_LOCATION/gradlew"}]}},{"change-android-versioncode-and-versionname@1.1.1":{"inputs":[{"build_gradle_path":"$PROJECT_LOCATION/$MODULE/build.gradle"}]}},{"android-lint@0.9.6":{"inputs":[{"project_location":"$PROJECT_LOCATION"},{"module":"$MODULE"},{"variant":"$VARIANT"}]}},{"android-unit-test@1.0.0":{"inputs":[{"project_location":"$PROJECT_LOCATION"},{"module":"$MODULE"},{"variant":"$VARIANT"}]}},{"android-build@0.10.0":{"inputs":[{"project_location":"$PROJECT_LOCATION"},{"module":"$MODULE"},{"variant":"$VARIANT"}]}},{"sign-apk@1.4.1":{"run_if":"{{getenv \"BITRISEIO_ANDROID_KEYSTORE_URL\" | ne \"\"}}"}},{"deploy-to-bitrise-io@1.9.2":{}},{"cache-push@2.2.1":{}}]},"primary":{"steps":[{"activate-ssh-key@4.0.5":{"run_if":"{{getenv \"SSH_RSA_PRIVATE_KEY\" | ne \"\"}}"}},{"git-clone@4.0.18":{}},{"cache-pull@2.1.4":{}},{"install-missing-android-tools@2.3.8":{"inputs":[{"gradlew_path":"$PROJECT_LOCATION/gradlew"}]}},{"android-lint@0.9.7":{"inputs":[{"project_location":"$PROJECT_LOCATION"},{"module":"$MODULE"},{"variant":"$VARIANT"}]}},{"android-unit-test@1.0.0":{"inputs":[{"project_location":"$PROJECT_LOCATION"},{"module":"$MODULE"},{"variant":"$VARIANT"}]}},{"deploy-to-bitrise-io@1.9.7":{}},{"cache-push@2.2.3":{}}]},"update_bitriseyml":{"steps":[{"activate-ssh-key@4.0.5":{"run_if":"{{getenv \"SSH_RSA_PRIVATE_KEY\" | ne \"\"}}"}},{"git-clone@4.0.18":{}},{"script@1":{"inputs":[{"content":"# fail if any commands fails\nset -e\n# debug log\nset -x\ncp -v /.bitrise-config/bitrise.yml bitrise.yml\n\ngit add bitrise.yml\ngit commit -m \"updating bitrise.yml from workflow\"\ngit push"}],"title":"Add most recent bitrise.yml"}},{"deploy-to-bitrise-io@1.9.7":{}}]}},"app":{"envs":[{"opts":{"is_expand":false},"PROJECT_LOCATION":"."},{"opts":{"is_expand":false},"MODULE":"app"},{"opts":{"is_expand":false},"VARIANT":"debug"}]}}